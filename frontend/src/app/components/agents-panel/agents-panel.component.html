<div class="agents-panel">
  <app-panel-header 
    title="AGENTS" 
    [count]="(agents$ | async)?.length">
  </app-panel-header>
  <div class="agents-list">
    <app-agent-card
      *ngFor="let agent of agents$ | async"
      [agent]="agent"
      [selected]="selectedAgentId === agent._id"
      (click)="selectAgent(agent._id)"
    ></app-agent-card>
  </div>
  <app-agent-detail-tray
    *ngIf="selectedAgentId"
    [agent]="selectedAgent$ | async"
    (close)="closeTray()"
  ></app-agent-detail-tray>
</div>
